[gd_scene load_steps=11 format=2]

[ext_resource path="res://Images/Rooms/badlands4.png" type="Texture" id=1]
[ext_resource path="res://Scenes/mainScene.tscn" type="PackedScene" id=2]
[ext_resource path="res://Images/Items/woodenSign.png" type="Texture" id=3]
[ext_resource path="res://Scenes/item.tscn" type="PackedScene" id=4]
[ext_resource path="res://Images/Items/niche.png" type="Texture" id=5]

[sub_resource type="NavigationPolygon" id=1]
vertices = PoolVector2Array( 1130.09, 555.474, 103.468, 550.176, 116.182, 483.43, 467.923, 370.068, 694.649, 269.419, 838.735, 229.159, 1144.92, 215.386 )
polygons = [ PoolIntArray( 0, 1, 2, 3 ), PoolIntArray( 0, 3, 4, 5, 6 ) ]
outlines = [ PoolVector2Array( 116.182, 483.43, 467.923, 370.068, 694.649, 269.419, 838.735, 229.159, 1144.92, 215.386, 1130.09, 555.474, 103.468, 550.176 ) ]

[sub_resource type="RectangleShape2D" id=2]
resource_local_to_scene = true
extents = Vector2( 41.334, 71.8533 )

[sub_resource type="Animation" id=3]
resource_name = "flicker"
length = 2.0
tracks/0/type = "value"
tracks/0/path = NodePath("../AlphusWizard/Light2D:energy")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 1, 2 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ 0.0, 3.0, 0.0 ]
}

[sub_resource type="Animation" id=4]
resource_name = "flicker"
length = 2.0
tracks/0/type = "value"
tracks/0/path = NodePath("../AlphusWizard/Light2D:energy")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 1, 2 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ 0.0, 3.0, 0.0 ]
}

[sub_resource type="RectangleShape2D" id=5]
resource_local_to_scene = true
extents = Vector2( 62.646, 112.991 )

[node name="badlands4" instance=ExtResource( 2 )]

[node name="background" parent="." index="0"]
texture = ExtResource( 1 )

[node name="CollisionPolygon2D" parent="walkableArea" index="0"]
polygon = PoolVector2Array( 19.3547, 538.989, 714.362, 278.361, 1047.03, 265.648, 1022.67, 602.557, -18.7859, 598.319 )

[node name="NavigationPolygonInstance" parent="Navigation2D" index="0"]
navpoly = SubResource( 1 )

[node name="signToBadEnter" parent="." index="5" instance=ExtResource( 4 )]
modulate = Color( 0.12549, 0.752941, 0.752941, 1 )
position = Vector2( 196.576, 499.217 )
image = ExtResource( 3 )
itemType = "door"
doorExit = "res://Rooms/enterBadlands.tscn"
doorUseText = "You do the thing."

[node name="CollisionShape2D" parent="signToBadEnter/Area2D" index="0"]
position = Vector2( -18.4997, -18.4997 )
shape = SubResource( 2 )

[node name="Sprite" parent="signToBadEnter" index="2"]
position = Vector2( -20.1815, -20.1815 )
scale = Vector2( 0.632108, 0.632108 )
texture = ExtResource( 3 )
flip_h = true

[node name="Light2D" parent="signToBadEnter" index="4"]
position = Vector2( -95.0213, -149.259 )
scale = Vector2( 2.36646, 2.16937 )

[node name="signToForestBridge" parent="." index="6" instance=ExtResource( 4 )]
visible = false
modulate = Color( 0.12549, 0.752941, 0.752941, 1 )
position = Vector2( 930.746, 284.96 )
image = ExtResource( 3 )
itemType = "door"
reactionText = {
}
doorExit = "res://Rooms/forestBridge.tscn"
doorUseText = "The countryside changes abrupty to a more wooded area."

[node name="CollisionShape2D" parent="signToForestBridge/Area2D" index="0"]
position = Vector2( -18.4997, -18.4997 )
shape = SubResource( 2 )

[node name="Sprite" parent="signToForestBridge" index="2"]
position = Vector2( -20.1815, -20.1815 )
scale = Vector2( 0.632108, 0.632108 )
texture = ExtResource( 3 )

[node name="Light2D" parent="signToForestBridge" index="4"]
position = Vector2( -95.0213, -149.259 )
scale = Vector2( 2.36646, 2.16937 )

[node name="AnimationPlayer" parent="signToForestBridge" index="5"]
anims/flicker = SubResource( 3 )

[node name="signToBandit" parent="." index="7" instance=ExtResource( 4 )]
modulate = Color( 0.12549, 0.752941, 0.752941, 1 )
position = Vector2( 920.152, 530.755 )
image = ExtResource( 3 )
itemType = "door"
reactionText = {
}
doorExit = "res://Rooms/banditCamp.tscn"
doorUseText = "The countryside changes abrupty to a more wooded area."

[node name="CollisionShape2D" parent="signToBandit/Area2D" index="0"]
position = Vector2( -18.4997, -18.4997 )
shape = SubResource( 2 )

[node name="Sprite" parent="signToBandit" index="2"]
position = Vector2( -20.1815, -20.1815 )
scale = Vector2( 0.632108, 0.632108 )
texture = ExtResource( 3 )

[node name="Light2D" parent="signToBandit" index="4"]
position = Vector2( -95.0213, -149.259 )
scale = Vector2( 2.36646, 2.16937 )

[node name="AnimationPlayer" parent="signToBandit" index="5"]
anims/flicker = SubResource( 4 )

[node name="rubyNiche" parent="." index="8" instance=ExtResource( 4 )]
position = Vector2( 663.936, 254.238 )
image = ExtResource( 5 )
itemType = "useable"
viewText = [ "It's a large stone niche, with a slot in the middle for something oval shaped.", "It seems to quietly hum with power." ]
reactionText = {
"ruby": [ "The ruby fits perfectly into the slot.", "The brush and scrub seems to part, making a new path through the badlands!" ]
}
powerSignals = [ "ruby" ]

[node name="CollisionShape2D" parent="rubyNiche/Area2D" index="0"]
position = Vector2( -5.05103, -6.17354 )
shape = SubResource( 5 )

[node name="Sprite" parent="rubyNiche" index="2"]
texture = ExtResource( 5 )

[node name="ruby" parent="." index="9" instance=ExtResource( 4 )]
position = Vector2( 456.791, 492.146 )
itemType = "pickup"

[connection signal="powerSignal" from="rubyNiche" to="signToForestBridge" method="showItem"]

[editable path="signToBadEnter"]
[editable path="signToForestBridge"]
[editable path="signToBandit"]
[editable path="rubyNiche"]
