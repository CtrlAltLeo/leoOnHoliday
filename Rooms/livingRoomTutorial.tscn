[gd_scene load_steps=14 format=2]

[ext_resource path="res://Images/Rooms/livingRoom.png" type="Texture" id=1]
[ext_resource path="res://Scenes/mainScene.tscn" type="PackedScene" id=2]
[ext_resource path="res://Sounds/Juno In The Space Maze - Loopop.mp3" type="AudioStream" id=3]
[ext_resource path="res://Scenes/item.tscn" type="PackedScene" id=4]
[ext_resource path="res://Images/Items/castlevania.png" type="Texture" id=5]

[sub_resource type="NavigationPolygon" id=1]
vertices = PoolVector2Array( 113.6, 541.501, 106.6, 466.501, 309.6, 478.501, 1128.6, 553.501, 523.6, 433.501, 1134.6, 439.501 )
polygons = [ PoolIntArray( 0, 1, 2, 3 ), PoolIntArray( 3, 2, 4, 5 ) ]
outlines = [ PoolVector2Array( 106.6, 466.501, 309.6, 478.501, 523.6, 433.501, 1134.6, 439.501, 1128.6, 553.501, 113.6, 541.501 ) ]

[sub_resource type="RectangleShape2D" id=2]
resource_local_to_scene = true
extents = Vector2( 81.1647, 58.313 )

[sub_resource type="RectangleShape2D" id=3]
resource_local_to_scene = true
extents = Vector2( 33.7621, 32.7478 )

[sub_resource type="RectangleShape2D" id=4]
resource_local_to_scene = true
extents = Vector2( 96.9932, 123.062 )

[sub_resource type="RectangleShape2D" id=5]
resource_local_to_scene = true
extents = Vector2( 341.457, 67.6263 )

[sub_resource type="Animation" id=6]
resource_name = "flicker"
length = 2.0
tracks/0/type = "value"
tracks/0/path = NodePath("../AlphusWizard/Light2D:energy")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 1, 2 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ 0.0, 3.0, 0.0 ]
}

[sub_resource type="RectangleShape2D" id=7]
resource_local_to_scene = true
extents = Vector2( 25, 43 )

[sub_resource type="RectangleShape2D" id=8]
resource_local_to_scene = true
extents = Vector2( 69.4146, 49.3062 )

[node name="livingRoomTutorial" instance=ExtResource( 2 )]
sceneMusic = ExtResource( 3 )

[node name="background" parent="." index="0"]
texture = ExtResource( 1 )

[node name="CollisionPolygon2D" parent="walkableArea" index="0"]
polygon = PoolVector2Array( 601, 497, 1019, 496, 1023, 603, 404, 600, 3, 600, 4, 524, 207, 531, 406, 493 )

[node name="NavigationPolygonInstance" parent="Navigation2D" index="0"]
navpoly = SubResource( 1 )

[node name="player" parent="." index="4"]
position = Vector2( 643.337, 508.576 )

[node name="TV" parent="." index="5" instance=ExtResource( 4 )]
itemType = "door"
viewText = [ "What did Daft Punk say about these things?", "Oh, yeah, they rule the nation.", "At least this one works. " ]
doorLocked = true
doorExit = "res://cutScenes/slurpIntoTV.tscn"
doorLockedText = "The TV is off. I won't turn it on until it's Game Time."
doorUseText = "What's going on..?"

[node name="CollisionShape2D" parent="TV/Area2D" index="0"]
position = Vector2( 502.163, 332.351 )
shape = SubResource( 2 )

[node name="Sprite" parent="TV" index="2"]
visible = false

[node name="walkPos" parent="TV" index="3"]
position = Vector2( 494.175, 506.61 )

[node name="CastleVania" parent="." index="6" instance=ExtResource( 4 )]
position = Vector2( 865.494, 309.36 )
id_name = "CastleVania"
image = ExtResource( 5 )
itemType = "pickup"
viewText = [ "Castlevania! My favorite NES game! ", "I'll just hold on to it for now.", "I should put this into the NES to play the game.", "\"You can click an item on the top of the screen to hold it, then click another item to use it.\"", "\"Using the Right Click will put the item back in your inventory.\"" ]

[node name="CollisionShape2D" parent="CastleVania/Area2D" index="0"]
shape = SubResource( 3 )

[node name="Sprite" parent="CastleVania" index="2"]
texture = ExtResource( 5 )

[node name="storyInstructions" parent="." index="7" instance=ExtResource( 4 )]
position = Vector2( -253.62, 136.154 )
itemType = "story"
viewText = [ "\"It was a quiet Friday night in October.\"", "\"Leo was just about to sit down and enjoy playing video games.\"", "\"But before settling in for some 80s induced anger, he decided to look around the room.\"", "Click the mouse to move Leo around! ", "Click on an object to interact with it!" ]

[node name="Chair" parent="." index="8" instance=ExtResource( 4 )]
itemType = "view"
viewText = [ "You know it's about to get serious when you're playing the Wii and someone stands up.", "Shoot, I forgot my skylander's portal of power at Fletcher's.", "Guess it's NES tonight." ]

[node name="CollisionShape2D" parent="Chair/Area2D" index="0"]
position = Vector2( 261.176, 392.058 )
shape = SubResource( 4 )

[node name="Sprite" parent="Chair" index="2"]
visible = false

[node name="walkPos" parent="Chair" index="3"]
position = Vector2( 326.546, 540.07 )

[node name="posterWall" parent="." index="9" instance=ExtResource( 4 )]
itemType = "view"
viewText = [ "Noah would think these posters are the bomb!", "I still don't undertand that text message he sent me, though.", "What the heck is a lucky stool?" ]
reactionText = {
}

[node name="CollisionShape2D" parent="posterWall/Area2D" index="0"]
position = Vector2( 354.897, 131.199 )
shape = SubResource( 5 )

[node name="Sprite" parent="posterWall" index="2"]
visible = false

[node name="walkPos" parent="posterWall" index="3"]
position = Vector2( 423.487, 513.877 )

[node name="AnimationPlayer" parent="posterWall" index="5"]
anims/flicker = SubResource( 6 )

[node name="lavaLam" parent="." index="10" instance=ExtResource( 4 )]
itemType = "view"
viewText = [ "This lava lamp is pretty spicy.", "I wonder if JT wants it." ]

[node name="CollisionShape2D" parent="lavaLam/Area2D" index="0"]
position = Vector2( 654.991, 281.493 )
shape = SubResource( 7 )

[node name="Sprite" parent="lavaLam" index="2"]
visible = false

[node name="walkPos" parent="lavaLam" index="3"]
position = Vector2( 702.721, 487.053 )

[node name="doorToTVCutscene" parent="." index="11" instance=ExtResource( 4 )]
position = Vector2( -307.013, 361.742 )
itemType = "door"
doorExit = "res://cutScenes/enterDungeon.tscn"
doorUseText = "Where are all these sparks coming from? What's going on?!!"

[node name="NES" parent="." index="12" instance=ExtResource( 4 )]
itemType = "useable"
viewText = [ "Ah, my faithful NES.", "Powercord looks a little frayed.." ]
reactionText = {
"CastleVania": [ "Click! Power on!", "Now I just have to turn on the TV." ]
}
powerSignals = [ "CastleVania" ]
sparkle = true

[node name="CollisionShape2D" parent="NES/Area2D" index="0"]
position = Vector2( 532, 526 )
shape = SubResource( 8 )

[node name="Sprite" parent="NES" index="2"]
visible = false

[node name="walkPos" parent="NES" index="3"]
position = Vector2( 608.414, 575.605 )

[node name="CPUParticles2D" parent="NES" index="7"]
position = Vector2( 536.537, 527.557 )

[connection signal="powerSignal" from="NES" to="TV" method="unlockDoor"]

[editable path="TV"]
[editable path="CastleVania"]
[editable path="Chair"]
[editable path="posterWall"]
[editable path="lavaLam"]
[editable path="NES"]
