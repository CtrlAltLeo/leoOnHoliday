[gd_scene load_steps=16 format=2]

[ext_resource path="res://Images/Rooms/roadStop.png" type="Texture" id=1]
[ext_resource path="res://Scenes/mainScene.tscn" type="PackedScene" id=2]
[ext_resource path="res://Scenes/item.tscn" type="PackedScene" id=3]
[ext_resource path="res://Images/Items/banjo.png" type="Texture" id=4]
[ext_resource path="res://Images/Portraits/manFace.png" type="Texture" id=5]
[ext_resource path="res://Images/People/guyActor.png" type="Texture" id=6]
[ext_resource path="res://Images/Items/woodenSign.png" type="Texture" id=7]
[ext_resource path="res://Sounds/Wehrmut - Godmode.mp3" type="AudioStream" id=8]
[ext_resource path="res://Scenes/fastTravel.tscn" type="PackedScene" id=9]

[sub_resource type="NavigationPolygon" id=1]
vertices = PoolVector2Array( 1131.06, 538.668, 135.169, 533.371, 293.029, 484.635, 305.743, 431.662, 197.678, 405.176, 225.224, 378.689, 843.95, 382.927, 893.745, 360.678, 1138.48, 373.392 )
polygons = [ PoolIntArray( 0, 1, 2 ), PoolIntArray( 3, 4, 5, 6, 0 ), PoolIntArray( 0, 2, 3 ), PoolIntArray( 0, 6, 7, 8 ) ]
outlines = [ PoolVector2Array( 135.169, 533.371, 293.029, 484.635, 305.743, 431.662, 197.678, 405.176, 225.224, 378.689, 843.95, 382.927, 893.745, 360.678, 1138.48, 373.392, 1131.06, 538.668 ) ]

[sub_resource type="RectangleShape2D" id=2]
resource_local_to_scene = true
extents = Vector2( 32.651, 32.6374 )

[sub_resource type="RectangleShape2D" id=3]
resource_local_to_scene = true
extents = Vector2( 32.651, 32.6374 )

[sub_resource type="RectangleShape2D" id=4]
resource_local_to_scene = true
extents = Vector2( 47.0879, 78.2387 )

[sub_resource type="RectangleShape2D" id=5]
resource_local_to_scene = true
extents = Vector2( 32.651, 53.8004 )

[sub_resource type="RectangleShape2D" id=6]
resource_local_to_scene = true
extents = Vector2( 32.651, 60.9099 )

[node name="roadStopExterior" instance=ExtResource( 2 )]
sceneMusic = ExtResource( 8 )

[node name="background" parent="." index="0"]
texture = ExtResource( 1 )

[node name="CollisionPolygon2D" parent="walkableArea" index="0"]
polygon = PoolVector2Array( 28.8073, 591.048, 182.429, 540.194, 190.905, 486.162, 86.0183, 456.497, 111.445, 439.545, 286.257, 434.248, 720.637, 438.486, 794.799, 420.475, 1017.29, 428.951, 1021.52, 595.286 )

[node name="NavigationPolygonInstance" parent="Navigation2D" index="0"]
navpoly = SubResource( 1 )

[node name="banjo" parent="." index="4" instance=ExtResource( 3 )]
position = Vector2( 904.268, 535.15 )
image = ExtResource( 4 )
itemType = "pickup"
viewText = [ "What's this?", "Some poor lad lost his banjo!", "It's just lying here on the cold hard ground! ", "Hey, free banjo. " ]

[node name="CollisionShape2D" parent="banjo/Area2D" index="0"]
shape = SubResource( 2 )

[node name="Sprite" parent="banjo" index="2"]
texture = ExtResource( 4 )

[node name="guy1" parent="." index="5" instance=ExtResource( 3 )]
position = Vector2( 627.797, 415.031 )
image = ExtResource( 6 )
itemType = "NPC"
viewText = [ "Hello Friend. This is the Purple Marker Tavern.", "What a weird name! Any reason why?", "No.", "...", "...", "...", "...", "...", "I won't let you in unless you give me a rat.", "..." ]
reactionText = {
"banjo": [ "No!" ],
"rat": [ "The man is overjoyed.", "He puts the rat into a little bag (with it's head peeking out, duh), and opens the door.", "You've done a good deed. You hope." ],
"woodenClub": [ "Using the wooden club, you beat the man unconscious.", "Ending and Door Unlocked: True Evil." ]
}
powerSignals = [ "rat", "woodenClub" ]
npcFace = ExtResource( 5 )
faceArray = [ 2, 1, 2, 1, 2, 1, 2, 1, 2, 1 ]

[node name="CollisionShape2D" parent="guy1/Area2D" index="0"]
shape = SubResource( 3 )

[node name="Sprite" parent="guy1" index="2"]
position = Vector2( 3.08667, -2.24493 )
scale = Vector2( 0.425615, 0.425615 )
texture = ExtResource( 6 )

[node name="signToField" parent="." index="6" instance=ExtResource( 3 )]
position = Vector2( 260.509, 523.85 )
image = ExtResource( 7 )
itemType = "door"
doorExit = "res://Rooms/field.tscn"
doorUseText = "You follow the sign to the field."

[node name="CollisionShape2D" parent="signToField/Area2D" index="0"]
position = Vector2( -43.1335, -2.82843 )
shape = SubResource( 4 )

[node name="Sprite" parent="signToField" index="2"]
position = Vector2( -38.1838, -16.2635 )
scale = Vector2( 0.685117, 0.685117 )
texture = ExtResource( 7 )
flip_h = true

[node name="Light2D" parent="signToField" index="4"]
position = Vector2( -15.5564, 4.24268 )

[node name="roadstopDoor" parent="." index="7" instance=ExtResource( 3 )]
position = Vector2( -168.38, 40.0905 )
itemType = "door"
doorLocked = true
doorExit = "res://Rooms/roadStopInterior.tscn"
doorUseText = "You walk through the door into the Purple Marker Inn."

[node name="CollisionShape2D" parent="roadstopDoor/Area2D" index="0"]
position = Vector2( 673.747, 348.843 )
shape = SubResource( 5 )

[node name="walkPos" parent="roadstopDoor" index="3"]
position = Vector2( 612.476, 418.123 )

[node name="signToRoad" parent="." index="8" instance=ExtResource( 3 )]
position = Vector2( 958.423, 426.95 )
image = ExtResource( 7 )
itemType = "door"
doorExit = "res://Rooms/road.tscn"
doorUseText = "You leave the roadstop and begin to walk on the main road."

[node name="CollisionShape2D" parent="signToRoad/Area2D" index="0"]
position = Vector2( -4.23785, -8.47571 )
shape = SubResource( 6 )

[node name="Sprite" parent="signToRoad" index="2"]
position = Vector2( -0.749153, -14.2339 )
scale = Vector2( 0.467399, 0.467399 )
texture = ExtResource( 7 )

[node name="Light2D" parent="signToRoad" index="4"]
position = Vector2( -1.05945, -6.35681 )

[node name="player" parent="." index="9"]
position = Vector2( 700.337, 537.576 )

[node name="fastTravel" parent="." index="10" instance=ExtResource( 9 )]
Name = "The Purple Marker"
location = "res://Rooms/roadStopExterior.tscn"

[connection signal="powerSignal" from="guy1" to="roadstopDoor" method="unlockDoor"]

[editable path="banjo"]
[editable path="guy1"]
[editable path="signToField"]
[editable path="roadstopDoor"]
[editable path="signToRoad"]
