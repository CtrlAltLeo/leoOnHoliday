[gd_scene load_steps=22 format=2]

[ext_resource path="res://Images/Rooms/roadStopInterior.png" type="Texture" id=1]
[ext_resource path="res://Scenes/mainScene.tscn" type="PackedScene" id=2]
[ext_resource path="res://Scenes/item.tscn" type="PackedScene" id=3]
[ext_resource path="res://Images/Items/beerStein.png" type="Texture" id=4]
[ext_resource path="res://Images/Portraits/barKeeperFace.png" type="Texture" id=5]
[ext_resource path="res://Images/People/bartender.png" type="Texture" id=6]
[ext_resource path="res://Images/Portraits/sittingGuy.png" type="Texture" id=7]
[ext_resource path="res://Images/People/barPatron.png" type="Texture" id=8]
[ext_resource path="res://Images/Items/french.png" type="Texture" id=9]
[ext_resource path="res://Images/image-removebg-preview (3).png" type="Texture" id=10]
[ext_resource path="res://Images/Items/chocolateMilk.png" type="Texture" id=11]
[ext_resource path="res://Sounds/By the Fireplace - TrackTribe.mp3" type="AudioStream" id=12]

[sub_resource type="NavigationPolygon" id=1]
vertices = PoolVector2Array( 215.862, 314.572, 181.882, 283.424, 220.581, 281.536, 257.392, 316.459, 114.867, 546.765, 111.092, 324.954, 122.418, 330.618, 290.428, 357.99, 359.331, 349.495, 381.984, 385.362, 390.478, 401.408, 1063.46, 298.526, 1105.94, 281.536, 1153.13, 307.965, 1143.69, 543.933, 1035.14, 367.429, 873.742, 506.178, 696.294, 513.729, 789.737, 503.347 )
polygons = [ PoolIntArray( 0, 1, 2, 3 ), PoolIntArray( 4, 5, 6 ), PoolIntArray( 4, 6, 0, 3, 7 ), PoolIntArray( 4, 7, 8, 9, 10 ), PoolIntArray( 11, 12, 13, 14, 15 ), PoolIntArray( 16, 15, 14 ), PoolIntArray( 16, 14, 4, 17 ), PoolIntArray( 4, 10, 17 ), PoolIntArray( 16, 17, 18 ) ]
outlines = [ PoolVector2Array( 122.418, 330.618, 215.862, 314.572, 181.882, 283.424, 220.581, 281.536, 257.392, 316.459, 290.428, 357.99, 359.331, 349.495, 381.984, 385.362, 390.478, 401.408, 696.294, 513.729, 789.737, 503.347, 873.742, 506.178, 1035.14, 367.429, 1063.46, 298.526, 1105.94, 281.536, 1153.13, 307.965, 1143.69, 543.933, 114.867, 546.765, 111.092, 324.954 ) ]

[sub_resource type="RectangleShape2D" id=2]
resource_local_to_scene = true
extents = Vector2( 32.651, 32.6374 )

[sub_resource type="RectangleShape2D" id=3]
resource_local_to_scene = true
extents = Vector2( 21.8581, 28.1654 )

[sub_resource type="RectangleShape2D" id=4]
resource_local_to_scene = true
extents = Vector2( 53.7542, 49.1126 )

[sub_resource type="RectangleShape2D" id=5]
resource_local_to_scene = true
extents = Vector2( 51.463, 80.8773 )

[sub_resource type="RectangleShape2D" id=6]
resource_local_to_scene = true
extents = Vector2( 32.651, 32.6374 )

[sub_resource type="RectangleShape2D" id=7]
resource_local_to_scene = true
extents = Vector2( 38.6311, 65.2591 )

[sub_resource type="RectangleShape2D" id=8]
resource_local_to_scene = true
extents = Vector2( 32.651, 32.6374 )

[sub_resource type="RectangleShape2D" id=9]
resource_local_to_scene = true
extents = Vector2( 32.651, 32.6374 )

[node name="roadStopInterior" instance=ExtResource( 2 )]
sceneMusic = ExtResource( 12 )

[node name="background" parent="." index="0"]
texture = ExtResource( 1 )

[node name="CollisionPolygon2D" parent="walkableArea" index="0"]
polygon = PoolVector2Array( 11.0002, 391.455, 91.8174, 379.108, 85.0827, 343.189, 118.757, 342.067, 133.349, 373.496, 181.614, 408.292, 244.472, 408.292, 271.411, 438.598, 270.289, 464.415, 586.159, 570.138, 671.09, 564.252, 769.474, 572.661, 941.521, 418.394, 957.236, 365.638, 997.644, 346.557, 1027.95, 362.271, 1024.58, 595.743, 589.523, 602.092, 11.0002, 595.743 )

[node name="NavigationPolygonInstance" parent="Navigation2D" index="0"]
navpoly = SubResource( 1 )

[node name="player" parent="." index="3"]
position = Vector2( 153.07, 525.848 )

[node name="barTop" parent="." index="4" instance=ExtResource( 3 )]
itemType = "view"
viewText = [ "Give me a drink, bartender.", "*WOOOSH*" ]

[node name="CollisionShape2D" parent="barTop/Area2D" index="0"]
position = Vector2( -222.487, 66.7462 )
shape = SubResource( 2 )

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="barTop/Area2D" index="1"]
polygon = PoolVector2Array( 264.248, 339.816, 393.746, 320.476, 433.268, 331.407, 365.156, 339.816, 647.697, 384.384, 825.505, 337.792, 824.245, 364.88, 681.333, 424.747 )

[node name="Sprite" parent="barTop" index="2"]
position = Vector2( -192.822, 48.7353 )

[node name="walkPos" parent="barTop" index="3"]
position = Vector2( 400.831, 523.233 )

[node name="beerStein" parent="." index="5" instance=ExtResource( 3 )]
position = Vector2( 736.936, 441.564 )
image = ExtResource( 4 )
itemType = "pickup"
viewText = [ "Aren't you a little young to be drinking beer? ", "Hey, you don't just have to store beer in a stein. ", "You could hold chocolate milk too." ]

[node name="CollisionShape2D" parent="beerStein/Area2D" index="0"]
shape = SubResource( 3 )

[node name="Sprite" parent="beerStein" index="2"]
texture = ExtResource( 4 )

[node name="barKeeper" parent="." index="6" instance=ExtResource( 3 )]
position = Vector2( 644.145, 393.457 )
image = ExtResource( 6 )
itemType = "NPC"
viewText = [ "Welcome to the Purple Marker, what can I get you?", "Yes, I'll have a glass of chocolate milk please.", "...", "Excuse me? ", "Is there a problem? ", "...", "Of course not! ", "One chocolate milk, coming right up.", "That'll just be a gold piece. ", "I appear to be poor. Good day." ]
reactionText = {
"coin": [ "You give the bartender a coin, and he pours you a glass of chocolate milk.", "This is a Core Item. You cannot win the game without this.", "...", "Not really." ]
}
powerSignals = [ "coin" ]
npcFace = ExtResource( 5 )
faceArray = [ 2, 1, 2, 2, 1, 2, 2, 2, 2, 1 ]

[node name="CollisionShape2D" parent="barKeeper/Area2D" index="0"]
position = Vector2( -4.40973, -73.7054 )
shape = SubResource( 4 )

[node name="Sprite" parent="barKeeper" index="2"]
position = Vector2( -5.98459, 8.18942 )
scale = Vector2( 1.41833, 1.41833 )
texture = ExtResource( 6 )

[node name="walkPos" parent="barKeeper" index="3"]
position = Vector2( -114.336, 115.687 )

[node name="drunkPatron" parent="." index="7" instance=ExtResource( 3 )]
position = Vector2( 894.364, 350.633 )
image = ExtResource( 8 )
itemType = "NPC"
viewText = [ "Excuse me sir, I-", "WHAZZAT?", "WHOOHA...Yeah I like a good PARTAY as much as the next guy,", "and the sparkling water flows freely..", "Say, I'm all out of coins. ", "You look like a nice fella, want to be my new drinking buddy?", "Shhh Shhh, no words now, get me money for sparkling water!", "Or play me some music, that usually wakes me up." ]
reactionText = {
"banjo": [ "You play the banjo for the man.", "You've never played the banjo before, but he seems to enjoy it.", "He hands you a small piece of bread and warns you to watch out for Shredder." ]
}
powerSignals = [ "banjo" ]
npcFace = ExtResource( 7 )
faceArray = [ 1, 2, 2, 2, 2, 2, 2, 2, 2, 2 ]

[node name="CollisionShape2D" parent="drunkPatron/Area2D" index="0"]
position = Vector2( -13.8591, 6.92957 )
shape = SubResource( 5 )

[node name="Sprite" parent="drunkPatron" index="2"]
texture = ExtResource( 8 )

[node name="walkPos" parent="drunkPatron" index="3"]
position = Vector2( 89.6083, 57.1552 )

[node name="Light2D" parent="drunkPatron" index="4"]
position = Vector2( -11.9692, 1.25995 )

[node name="frenchBread" parent="." index="8" instance=ExtResource( 3 )]
position = Vector2( -238.379, 280.758 )
image = ExtResource( 9 )
itemType = "pickup"

[node name="CollisionShape2D" parent="frenchBread/Area2D" index="0"]
shape = SubResource( 6 )

[node name="Sprite" parent="frenchBread" index="2"]
texture = ExtResource( 9 )

[node name="doorToOutside" parent="." index="9" instance=ExtResource( 3 )]
image = ExtResource( 10 )
itemType = "door"
doorExit = "res://Rooms/roadStopExterior.tscn"
doorUseText = "You walk through the only realistic door in the game to the outside of the tavern."

[node name="CollisionShape2D" parent="doorToOutside/Area2D" index="0"]
position = Vector2( 99.2988, 279.464 )
shape = SubResource( 7 )

[node name="Sprite" parent="doorToOutside" index="2"]
position = Vector2( 97.0658, 284.74 )
scale = Vector2( 0.207037, 0.207036 )
texture = ExtResource( 10 )

[node name="portalToNoah" parent="." index="10" instance=ExtResource( 3 )]
itemType = "door"
doorExit = "res://Rooms/noahSecretRoom.tscn"
doorUseText = "Sitting on the stool teleports you to another world.."

[node name="CollisionShape2D" parent="portalToNoah/Area2D" index="0"]
position = Vector2( -237.588, -16.9706 )
shape = SubResource( 8 )

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="portalToNoah/Area2D" index="1"]
polygon = PoolVector2Array( 371.859, 412.666, 390.547, 393.979, 430.592, 398.65, 431.927, 412.666, 419.913, 439.363, 377.199, 432.021 )

[node name="Sprite" parent="portalToNoah" index="2"]
position = Vector2( -216.375, 178.191 )

[node name="walkPos" parent="portalToNoah" index="3"]
position = Vector2( 367.695, 516.325 )

[node name="chocolateMilk" parent="." index="11" instance=ExtResource( 3 )]
position = Vector2( -48.2659, 189.696 )
image = ExtResource( 11 )

[node name="CollisionShape2D" parent="chocolateMilk/Area2D" index="0"]
shape = SubResource( 9 )

[node name="Sprite" parent="chocolateMilk" index="2"]
texture = ExtResource( 11 )

[connection signal="powerSignal" from="barKeeper" to="chocolateMilk" method="pickup"]
[connection signal="powerSignal" from="drunkPatron" to="frenchBread" method="pickup"]

[editable path="barTop"]
[editable path="beerStein"]
[editable path="barKeeper"]
[editable path="drunkPatron"]
[editable path="frenchBread"]
[editable path="doorToOutside"]
[editable path="portalToNoah"]
[editable path="chocolateMilk"]
